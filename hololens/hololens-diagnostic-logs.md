---
title: HoloLens デバイスから診断情報を収集する
description: HoloLens デバイスから診断情報を収集する
author: Teresa-Motiv
ms.author: v-tea
ms.date: 10/15/2020
ms.prod: hololens
ms.mktglfcycl: manage
ms.sitesec: library
ms.topic: article
ms.custom:
- CI 115131
- CSSTroubleshooting
audience: ITPro
ms.localizationpriority: medium
keywords: ''
manager: jarrettr
appliesto:
- HoloLens (1st gen)
- HoloLens 2
ms.openlocfilehash: e1302a3d482648b1ebbf7fee71ceec3ca4261d23
ms.sourcegitcommit: 87d503434339fc6c9b41aa9473e35ddfde845cac
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/16/2020
ms.locfileid: "11120148"
---
# HoloLens デバイスから診断情報を収集する

HoloLens ユーザーおよび管理者は、HoloLens から診断情報を収集するために、次の4つの異なる方法から選択できます。

- フィードバック Hub アプリ
- DiagnosticLog CSP
- 設定アプリ

> [!IMPORTANT]  
> デバイスの診断ログには、ユーザーが通常の操作で開始したプロセスやアプリケーションなど、個人を特定できる情報 (PII) が含まれます。 複数のユーザーが HoloLens デバイスを共有している場合 (たとえば、異なる Microsoft Azure Active Directory (AAD) アカウントを使用して同じデバイスにサインインした場合など)、診断ログには、複数のユーザーに適用される PII 情報が含まれている場合があります。 詳細については、「 [Microsoft のプライバシー](https://privacy.microsoft.com/privacystatement)に関する声明」を参照してください。

次の表は、3つのコレクションメソッドを比較したものです。 メソッド名は、表の後のセクションの詳細情報にリンクされています。

|メソッド |前提条件 |データの場所 |データアクセスと使用 |データの保持 |
| --- | --- | --- | --- | --- |
|[フィードバック Hub](#feedback-hub) |ネットワークとインターネット接続<br /><br />フィードバック Hub アプリ<br /><br />Microsoft cloud にファイルをアップロードするためのアクセス許可 |Microsoft cloud<br /><br />HoloLens デバイス (オプション) |ユーザーは支援を要求し、使用条件に同意し、データをアップロードします。<br /><br />Microsoft の従業員は利用規約に従ってデータを表示します。 |クラウド内のデータは、Next Generation Privacy (NGP) で定義されている期間保持されます。 その後、データは自動的に削除されます。<br /><br />デバイス上のデータは、 **デバイスの所有者** または **管理者** 権限を持つユーザーが、いつでも削除できます。 |
|[設定のトラブルシューティング](#settings-troubleshooter) |設定アプリ |HoloLens デバイス<br /><br />接続されているコンピューター (オプション) |ユーザーはデータを保存し、ユーザーだけがデータにアクセスします (ユーザーが別のユーザーとデータを共有していない場合)。 |データは、ユーザーが削除するまで保持されます。 |
|[DiagnosticLog CSP](#diagnosticlog-csp) |ネットワーク接続<br /><br />DiagnosticLog CSP をサポートする MDM 環境 |管理者が保存場所を構成する |管理環境では、ユーザーはデータへの管理者アクセス権を暗黙的に同意します。<br /><br />管理者がアクセスの役割と権限を構成します。 | 管理者がアイテム保持ポリシーを構成します。 |
|[オフライン診断](#offline-diagnostics) |デバイス構成:<ul><li>電源が入っていて、コンピュータに接続されています</li><li>電源と音量のボタンが機能している</li></ul> |HoloLens デバイス<br /><br />接続されているコンピューター |ユーザーはデータを保存し、ユーザーだけがデータにアクセスします (ユーザーが別のユーザーとデータを共有していない場合)。 |データは、ユーザーが削除するまで保持されます。 | 


-   エンドユーザーは、ログを他のユーザーと共有する責任を負います。 これらのファイルは、顧客のサービスとサポートに連絡するときに主に役立ちます。  

## フィードバック Hub

HoloLens ユーザーは、Microsoft フィードバック Hub デスクトップアプリを使用して、Microsoft サポートに診断情報を送信できます。 詳細と手順については、「 [フィードバック](hololens-feedback.md)を送信する」を参照してください。  

> [!NOTE]  
> **一般法人向けまたは企業向けのユーザー:**[フィードバック Hub] アプリを使って、MDM、プロビジョニング、その他のデバイス管理の側面に関連する問題を報告する場合は、アプリのカテゴリを [**エンタープライズ管理**  >  **デバイス]** に変更します。

### 前提条件

- デバイスがネットワークに接続されています。
- フィードバック Hub アプリはユーザーのデスクトップコンピューターで利用でき、ユーザーはファイルを Microsoft cloud にアップロードできます。

### データの場所、アクセス、および保持

フィードバック Hub の利用規約に同意することによって、ユーザーはデータ (その契約で定義されている) の保存と使用について明示的に同意します。

フィードバック Hub には、ユーザーが診断情報を格納するための2つの場所が用意されています。

- **Microsoft cloud**。 フィードバック Hub アプリを使用してアップロードされたデータは、次世代のプライバシー (NGP) の要件に準拠している日数に対して保存されます。 Microsoft の従業員は、NGP に準拠したビューアーを使用して、この期間中に情報にアクセスすることができます。
   > [!NOTE]  
   > これらの要件は、すべてのフィードバック Hub カテゴリのデータに適用されます。

- **HoloLens デバイス**。 フィードバック Hub でレポートをファイリングしているときに、ユーザーは **フィードバックを送信するときに作成された診断と添付ファイルのローカルコピーを保存**することができます。 ユーザーがこのオプションを選択した場合、フィードバック Hub には、HoloLens デバイスの診断情報のコピーが格納されます。 この情報は、ユーザー (またはそのアカウントを使用して HoloLens にサインインしているユーザー) からアクセスできます。 この情報を削除するには、デバイスの **デバイス所有者** または **管理者** のアクセス許可が必要です。 適切な権限を持っているユーザーは、フィードバック Hub にサインインし、[**設定**] ビューの [診断ログ] を選択して、情報を削除することができ  >  **View diagnostics logs**ます。

## 設定のトラブルシューティング

HoloLens ユーザーは、デバイス上の設定アプリを使用して、問題のトラブルシューティングや診断情報の収集を行うことができます。 これを行うためには、次の手順を実行します。

1. 設定アプリを開き、[**更新 & セキュリティ**の  >  **トラブルシューティング**] ページを選択します。
1. 適切な領域を選択し、[ **開始**] を選択します。
1. 問題を再現します。
1. 問題を再現した後、[設定] に戻り、[ **停止**] を選択します。

### 前提条件

- 設定アプリはデバイスにインストールされ、ユーザーが使用できます。

### データの場所、アクセス、および保持

ユーザーはデータ収集を開始するため、診断情報のストレージに暗黙的に同意されます。 ユーザーのみ、またはユーザーがデータを共有しているすべてのユーザーのみがデータにアクセスできます。

診断情報はデバイスに格納されます。 デバイスがユーザーのコンピューターに接続されている場合は、次のファイルにもコンピューター上の情報が存在します。

> この PC\ \ \<*HoloLens device name*> ¥ Internal Storage\\Documents\\Trace \<*ddmmyyhhmmss*>

> [!NOTE]  
> このファイルパスと名前は、 \<*HoloLens device name*> HoloLens デバイスの名前を表し、ファイルが \<*ddmmyyhhmmss*> 作成された日付と時刻を表します。

診断情報は、ユーザーによって削除されるまで、これらの場所に残ります。

## DiagnosticLog CSP

IT 管理者は、モバイルデバイス管理 (MDM) 環境で、 [DiagnosticLog 構成サービスプロバイダー (CSP)](https://docs.microsoft.com/windows/client-management/mdm/diagnosticlog-csp) を使って、登録されている HoloLens デバイスで診断設定を構成できます。 IT 管理者は、登録済みデバイスからログを収集するためにこれらの設定を構成できます。

### 前提条件

- デバイスがネットワークに接続されています。
- デバイスは、DiagnosticLog CSP をサポートする MDM 環境に登録されます。

### データの場所、アクセス、および保持

デバイスは管理環境の一部であるため、ユーザーは診断情報への管理アクセスを暗黙的に同意します。

IT 管理者は、DiagnosticLog CSP を使用して、次のことを管理するポリシーを含む、データストレージ、保持、アクセスポリシーを構成します。

- 診断情報を格納するクラウドインフラストラクチャ。
- 診断情報の保持期間。
- 診断情報へのアクセスを制御するアクセス許可。

## オフライン診断
フィードバック Hub またはトラブルシューティングツールを使用して、デバイスで診断を収集できない場合は、診断を手動で収集できます。 このような状況の1つは、デバイスが Wi-fi に接続できない場合です。 診断は、Microsoft サポートエンジニアが問題を特定するのに役立つデバイスからのクラッシュダンプとログを収集します。

これは、USB ケーブルを使って PC に接続した後、デバイスがエクスプローラーに表示される場合に有効です。 

> [!NOTE]
> オフライン診断は、ユーザーが OOBE または [System\AllowTelemetry](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-system#system-allowtelemetry) ポリシー値が full に設定されている場合にのみ有効になります (Hololens では基本は既定値です)。 

デバイスがロックされていると、ログは表示されません。 オフライン診断機能を無効にするには、[**設定] アプリ >** の [プライバシー] ページに移動し、[**診断データ**] で [**基本**] を選択します。 オフライン診断がテレメトリ設定に依存するビルドでは、ログが収集されるかどうかにのみ影響します。 収集されるファイルには影響しません。

詳細については、このビデオをご覧ください。 

> [!VIDEO https://channel9.msdn.com/Shows/Docs-Mixed-Reality/Gathering-Diagnostic-Files-on-HoloLens2/player]

診断を収集するには、次の手順を実行します。
1.  USB ケーブルを使ってデバイスを PC に接続します。
2.  PC のエクスプローラーで、[ **この pc \<hololens-device> \ 内部ストレージ]** に移動します。
3.  **内部記憶域**フォルダーが表示されない場合、デバイスはユーザーのサインインを待機しています。 サインインするか、電源ボタンを10秒間押したままにして、デバイスの電源を入れ直します。
4.  **POWER + ボリュームの下矢印**を同時に押します。
5.  デバイスが zip アーカイブを準備できるようになるまで待ちます。 (HololensDiagnostics という名前の一時ファイルが、デバイスで zip アーカイブが生成されている間に表示されることがあります。 このファイルにアクセスしたり、保存したりしないでください。 プロセスが完了すると、zip アーカイブに置き換わります。)
6.  エクスプローラーを更新して、[ **\Documents]** フォルダーに移動します。
7.  診断 ZIP ファイルをコピーして、Microsoft サポートチームと共有します。

> [!NOTE]
> 一部の診断 ZIP ファイルには、個人を特定できる情報が含まれている場合があります。



