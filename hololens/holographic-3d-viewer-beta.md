---
title: HoloLens で 3D ビューアーを使う (第 1 世代)
description: HoloLens (第 1 世代) の 3D ビューアーがサポートするファイルの種類と機能、およびアプリの使用方法とトラブルシューティング方法について説明します。
ms.prod: hololens
ms.sitesec: library
author: Teresa-Motiv
ms.author: v-tea
ms.topic: article
ms.localizationpriority: high
ms.date: 10/30/2019
ms.reviewer: scooley
audience: ITPro
manager: jarrettr
appliesto:
- HoloLens (1st gen)
ms.openlocfilehash: 47fe1fd5dc164c56ce22a09d7edf5bffdb60ea14
ms.sourcegitcommit: 7c057aeeaeebb4daffa2120491d4e897a31e8d0f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/26/2020
ms.locfileid: "10828889"
---
# HoloLens で 3D ビューアーを使う (第 1 世代)

3D ビューアーを使用すると、HoloLens (第 1 世代) で 3D モデルを表示できます。 Microsoft Edge、OneDrive、およびその他のアプリから、*サポートされている* .fbx ファイルを開いて表示できます。

>[!NOTE]
>この記事は、.fbx ファイルをサポートし、HoloLens (第 1 世代) でのみ利用できるイマーシブ Unity **3D ビューアー** アプリに適用されます。 HoloLens 2 にプリインストールされている **3D ビューアー** アプリは、Mixed Reality ホームでカスタム .glb 3D モデルを開くことができます (詳細については、「[資産要件の概要](https://docs.microsoft.com/windows/mixed-reality/creating-3d-models-for-use-in-the-windows-mixed-reality-home#asset-requirements-overview)」を参照してください)。

3D ビューアーで 3D モデルを開けない場合、または 3D モデルの特定の機能がサポートされていない場合は、「[サポートされるコンテンツの仕様](#supported-content-specifications)」を参照してください。

3D ビューアーで使用する 3D モデルを作成または最適化するには、「[3D ビューアー用の 3D モデルの最適化](#optimizing-3d-models-for-3d-viewer)」を参照してください。

HoloLens で 3D モデルを開く方法は 2 つあります。 詳細については、「[HoloLens での FBX ファイルの表示](#viewing-fbx-files-on-hololens)」を参照してください。

これらのトピックを読んでも問題が発生した場合は、「[トラブルシューティング](#troubleshooting)」をご覧ください。

## サポートされるコンテンツの仕様

### ファイル形式

- FBX 形式
- FBX の最大リリース 2015.1.0

### ファイル サイズ

- 最小 5 KB
- 最大 500 MB

### ジオメトリ

- 多角形モデルのみ。 サブディビジョン サーフェスまたは NURBS なし
- 右手座標系
- 変換マトリックスのせん断はサポートされていません

### テクスチャ

- テクスチャ マップは FBX ファイルに埋め込む必要があります
- サポートされている画像形式
  - JPEG および PNG 画像
  - BMP 画像 (24 ビット RGB トゥルー カラー)
  - TGA 画像 (24 ビット RGB および 32 ビット RGBQ トゥルー カラー)
- 2048x2048 の最大テクスチャ解像度
- メッシュごとに最大 1 つの拡散マップ、1 つの法線マップ、および 1 つの反射キューブ マップ
- 50% 未満の場合、拡散テクスチャのアルファ チャネルによりピクセルが破棄される

### アニメーション

- 個々のオブジェクトのスケーリング、回転、移動アニメーション
- スキン適用のスケルタル (リギング) アニメーション
  - 頂点ごとに最大 4 つの影響

### 素材

- ランバートおよびフォン素材がサポートされ、パラメータを調整できます
- ランバートでサポートされている素材の特性
  - メイン テクスチャ (RGB + アルファ テスト)
  - 拡散色 (RGB)
  - アンビエント色 (RGB)
- フォンでサポートされている素材プロパティ
  - メイン テクスチャ (RGB + アルファ テスト)
  - 拡散色 (RGB)
  - アンビエント色 (RGB)
  - 反射の色 (RGB)
  - 光輝
  - 反射率
- カスタム素材はサポートされていません
- メッシュごとに最大 1 つの素材
- 最大 1 つの素材レイヤー
- ファイルごとに最大 8 つの素材

### ファイルとモデルの制限

3D ビューアーで同時に開くことができるモデル、頂点、メッシュの数だけでなく、ファイルのサイズにも厳しい制限があります。

- モデルごとに最大 500 MB のファイル サイズ
- 頂点: すべてのオープン モデルで合計 600,000
- メッシュ: すべてのオープン モデルで合計 1,600
- 一度に最大 40 個のモデルを開く

## 3D ビューアー用に 3D モデルを最適化する

### 特別な考慮事項

- テクスチャ マップの黒い素材や黒い領域は避けてください。 ホログラムは光でできているため、HoloLens は黒 (光がない場合) を透明としてレンダリングします。
- 作成ツールから FBX にエクスポートする前に、すべてのジオメトリが表示され、ロックが解除されていること、およびジオメトリを含むレイヤーがオフになっていないか、テンプレート化されていないことを確認してください。 可視性は考慮されません。
- ノード間の非常に大きな変換オフセット (たとえば、100,000 単位) は避けてください。 これにより、移動、スケーリング、回転中にモデルが揺れる可能性があります。

### パフォーマンスの最適化

コンテンツを作成するときはパフォーマンスを念頭に置き、作成プロセス中に HoloLens の 3D ビューアー アプリで検証して、最良の結果を得てください。 3D ビューアーはコンテンツをリアルタイムでレンダリングし、パフォーマンスは HoloLens のハードウェア機能の影響を受けます。  

3D モデルには、パフォーマンスに影響を与える可能性のある多くの変数があります。 3D ビューアーは、150,000 個以上の頂点または 400 個以上のメッシュがある場合、読み込む際に警告を表示します。 アニメーションは、他のオープン モデルのパフォーマンスに影響を与える可能性があります。 3D ビューアーで同時に開くことができるモデル、頂点、メッシュの総数にも厳しい制限があります (「[ファイルとモデルの制限](#file-and-model-limitations)」を参照)。  

モデルの複雑さが原因で 3D モデルがうまく機能しない場合は、次の点を考慮してください。

- 多角形の数を減らす
- スケルタル アニメーションのボーンの数を減らす
- 自己遮蔽を回避する

3D ビューアーでは両面レンダリングがサポートされていますが、パフォーマンス上の理由から既定ではオフになっています。 これは、**詳細**ページの [**両面**] ボタンでオンにすることができます。 最高のパフォーマンスのためには、コンテンツで両面レンダリングを行う必要がないようにします。

### 3D モデルの検証

HoloLens の 3D ビューアーでモデルを開いて検証します。 [**詳細**] ボタンを選択して、サポートされていないコンテンツ (存在する場合) のモデルの特性と警告を表示します。

### 実物大の 3D モデルのレンダリング

既定では、3D ビューアーは 3D モデルをユーザーに対して適切なサイズと位置で表示します。 ただし、実際の測定で 3D モデルをレンダリングすることが重要な場合 (たとえば、部屋の家具モデルを評価する場合)、コンテンツ作成者はファイルのメタデータ内にフラグを設定して、アプリケーションとユーザーの両方によるそのモデルのサイズ変更を防ぐことができます。

モデルのスケーリングを防止するには、ブール値のカスタム属性をシーン内の Microsoft_DisableScale という名前のオブジェクトに追加し、それを true に設定します。 3D ビューアーは、FBX ファイルにベイクされた FbxSystemUnit 情報を尊重します。 3D ビューアーのスケールは、FBX ユニットごとに 1 メートルです。

## HoloLens での FBX ファイルの表示

### Microsoft Edge から FBX ファイルを開く

FBX ファイルは、HoloLens の Microsoft Edge を使用して Web サイトから直接開くことができます。

1. Microsoft Edge で、表示する FBX ファイルを含む Web ページに移動します。
1. ダウンロードするファイルを選択します。
1. ダウンロードが完了したら、Microsoft Edge の [**開く**] ボタンを選択して、ファイルを 3D ビューアーで開きます。

ダウンロードしたファイルは、Microsoft Edge の [ダウンロード] を使用して、後でアクセスして開くことができます。 3D モデルを保存してアクセスを継続するには、ファイルを PC にダウンロードして、OneDrive アカウントに保存します。 その後、HoloLens の OneDrive アプリからファイルを開くことができます。

> [!NOTE]
> ダウンロード可能な FBX モデルを備えた一部の Web サイトでは、圧縮された ZIP 形式でそれらを提供しています。 3D ビューアーは、ZIP ファイルを直接開くことはできません。 代わりに、PC を使用して FBX ファイルを抽出し、OneDrive アカウントに保存します。 その後、HoloLens の OneDrive アプリからファイルを開くことができます。

### OneDrive から FBX ファイルを開く

FBX ファイルは、HoloLens の OneDrive アプリを使用して OneDrive から開くことができます。 HoloLens の Microsoft Store アプリを使用して OneDrive をインストールし、FBX ファイルを PC の OneDrive に既にアップロードしていることを確認してください。

OneDrive に入ると、次の 2 つの方法のいずれかで、3D ビューアーを使用して HoloLens で FBX ファイルを開くことができます。

- HoloLens で OneDrive を起動し、FBX ファイルを選択して 3D ビューアーで開きます。
- 3D ビューアーを起動し、エアタップしてツールバーを表示し、[**ファイルを開く**] を選択します。 OneDrive が起動し、FBX ファイルを選択できるようになります。

## トラブルシューティング

### 3D モデルを開くと警告が表示されない

3D ビューアーでサポートされていない機能を含む 3D モデルを開こうとする場合、またはモデルが複雑すぎてパフォーマンスに影響を与える可能性がある場合は、警告が表示されます。 3D ビューアーは引き続き 3D モデルを読み込みますか、パフォーマンスまたは視覚的な忠実さが損なわれる可能性があります。

詳細については、「[サポートされるコンテンツの仕様](#supported-content-specifications)」および「[3D ビューアー用に 3D モデルを最適化する](#optimizing-3d-models-for-3d-viewer)」を参照してください。

### 警告が表示され、3D モデルが読み込まれない

複雑さやファイル サイズが原因で 3D ビューアーが 3D モデルを読み込めない場合、または FBX ファイルが破損しているか無効な場合は、エラー メッセージが表示されます。 同時に開くことができるモデル、頂点、またはメッシュの総数の制限に達した場合も、エラー メッセージが表示されます。  

詳しくは、「[サポートされるコンテンツの仕様](#supported-content-specifications)」と「[ファイルとモデルの制限](#file-and-model-limitations)」をご覧ください。

モデルがサポートされるコンテンツの仕様を満たし、ファイルまたはモデルの制限を超えていないと思われる場合は、FBX ファイルを 3D ビューアー チーム (holoapps@microsoft.com) に送信できます。 個人的には対応できませんが、適切に読み込まれないファイルの例があれば、今後のバージョンアップに役立つでしょう。

### 3D モデルが読み込まれるが、期待どおりに表示されない

3D モデルが 3D ビューアーで期待どおりに表示されない場合は、エアタップしてツールバーを表示し、[**詳細**] を選択します。 3D ビューアーでサポートされていないファイルの側面は、警告として強調表示されます。

表示される最も一般的な問題は、テクスチャが欠落していることです。これは、おそらく FBX ファイルに埋め込まれていないためです。 この場合、モデルは白く表示されます。 この問題は、埋め込みのテクスチャ オプションを選択して作成ツールから FBX にエクスポートすることにより、作成プロセスで対処できます。

詳細については、「[サポートされるコンテンツの仕様](#supported-content-specifications)」および「[3D ビューアー用に 3D モデルを最適化する](#optimizing-3d-models-for-3d-viewer)」を参照してください。

### 3D モデルを表示しているときにパフォーマンスが低下する

3D モデルを読み込んで表示するときのパフォーマンスは、モデルの複雑さ、同時に開くモデルの数、または有効なアニメーションを持つモデルの数によって影響を受ける可能性があります。

詳細については、「[3D ビューアー用に 3D モデルを最適化する](#optimizing-3d-models-for-3d-viewer)」および「[ファイルとモデルの制限](#file-and-model-limitations)」を参照してください。

### HoloLens で FBX ファイルを開くと、3D ビューアーで開かない

3D ビューアーは、インストール時に自動的に .fbx ファイル拡張子に関連付けられます。

FBX ファイルを開こうとして、Microsoft Store に移動するダイアログ ボックスが表示された場合、HoloLens の .fbx ファイル拡張子に関連付けられたアプリは現在ないということになります。

3D ビューアーがインストールされていることを確認します。 インストールされていない場合は、HoloLens の Microsoft Storeからダウンロードしてください。

3D ビューアーがすでにインストールされている場合は、3D ビューアーを起動し、ファイルをもう一度開いてみてください。 問題が解決しない場合は、3D ビューアーをアンインストールして再インストールします。 これにより、.fbx ファイル拡張子が 3D ビューアーに再度関連付けられます。

FBX ファイルを開こうとすると、3D ビューアー以外のアプリが開かれる場合、そのアプリは 3D ビューアーの後にインストールされた可能性が高く、.fbx ファイル拡張子との関連付けを引き継いでいる可能性があります。 3D ビューアーを .fbx ファイル拡張子に関連付けたい場合は、3D ビューアーをアンインストールして再インストールします。

### 3D ビューアーの [ファイルを開く] ボタンでアプリが起動しない

[**ファイルを開く**] ボタンは、HoloLens のファイル ピッカー機能に関連付けられたアプリを開きます。 OneDrive がインストールされている場合、[**ファイルを開く**] ボタンで OneDrive が起動します。 ただし、HoloLens にインストールされているファイル ピッカー機能に関連付けられたアプリが現在ない場合は、Microsoft Store に移動されます。

[**ファイルを開く**] ボタンが OneDrive 以外のアプリを起動した場合、そのアプリは OneDrive の後にインストールされた可能性が高く、ファイル ピッカー機能との関連付けを引き継いでいる可能性があります。 3D ビューアーで [**ファイルを開く**] ボタンを選択したときに OneDrive を起動する場合は、OneDrive をアンインストールして再インストールします。

[**ファイルを開く**] ボタンが有効でない場合、一度に 3D ビューアーで開くことができるモデルの制限に達している可能性があります。 3D ビューアーで 40 個のモデルを開いている場合は、追加のモデルを開く前にいくつかを閉じる必要があります。

## その他の資料

- [サポート フォーラム](http://forums.hololens.com/categories/3d-viewer-beta)
- [サードパーティについての通知](https://www.microsoft.com/{lang-locale}/legal/products)
