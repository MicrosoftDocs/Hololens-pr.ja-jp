---
title: HoloLens を使用して物理的スペースをマッピングする
description: 時間の経過とともに空間がどのように見えるかが HoloLens に学習されます。 ユーザーは、空間内を特定の方法で HoloLens を動かすことで、このプロセスを促進することができます。
ms.assetid: bd55ecd1-697a-4b09-8274-48d1499fcb0b
author: dorreneb
ms.author: dobrown
ms.custom:
- CI 111456
- CSSTroubleshooting
ms.date: 09/16/2019
keywords: HoloLens、Windows Mixed Reality、デザイン、空間マッピング、HoloLens、表面再構築、メッシュ、ヘッド トラッキング、マッピング
ms.prod: hololens
ms.sitesec: library
ms.topic: article
ms.localizationpriority: high
appliesto:
- HoloLens 1 (1st gen)
- HoloLens 2
ms.openlocfilehash: b8bda049f0ef4610dcf0ca6fe81d89dd5a316e3e
ms.sourcegitcommit: 4c15afc772fba26683d9b75e38c44a018b4889f6
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/12/2021
ms.locfileid: "113640043"
---
# <a name="map-physical-spaces-with-hololens"></a>HoloLens を使用して物理的スペースをマッピングする

HoloLens を使用して、ホログラムと物理世界を融合させることができます。 そのためには、周りの物理世界について HoloLens に学習させ、その空間内のどこにホログラムを配置するかを記憶させる必要があります。

時間の経過とともに、見える環境の *空間マップ* が構築されます。  環境の変化に応じてマップが更新されます。 ログインし、デバイスの電源が入っている間は、空間マップが作成され、更新されます。 カメラを空間に向けた状態でデバイスを保持または装着すると、HoloLens によってエリアのマッピングが試行されます。 HoloLens によって時間の経過とともに自然に空間が学習されますが、HoloLens を使用してより迅速かつ効率的に空間をマッピングするのに役立つ方法があります。  

> [!NOTE]
> HoloLens を使用して空間をマッピングできない場合、またはキャリブレーションから外れた場合、HoloLens は制限モードに切り替わることがあります。 制限モードでは、周囲にホログラムを配置することはできません。

この記事では、HoloLens を使用して空間をマッピングする方法、空間マッピングを改善する方法、HoloLens によって収集される空間データを管理する方法について説明します。

## <a name="choosing-and-setting-up-and-your-space"></a>空間の選択とセットアップ

環境内の特徴によっては、HoloLens の空間解釈が困難になる場合があります。 ライト レベル、空間内のマテリアル、オブジェクトのレイアウトなどは、いずれも HoloLens によるエリアのマッピング方法に影響する可能性があります。

HoloLens は特定の種類の環境で最適に動作します。 最適な空間マップを作成するには、十分な明るさと十分な広さがある部屋を選択してください。 暗い空間や、表面が暗いもの、光沢があるもの、または半透明のもの (鏡やガーゼのカーテンなど) がたくさんある部屋は避けてください。

HoloLens は屋内での使用に最適化されています。 空間マッピングは、Wi-Fi がオンになっている場合にも最適に機能しますが、ネットワークに接続する必要はありません。 接続または認証されていなくても、HoloLens から Wi-Fi アクセス　ポイントを取得できます。 HoloLens 機能によって、アクセス ポイントがインターネットに接続されているか、イントラネットまたはローカルのみであるかが変わることはありません。

HoloLens は、つまずく危険がない安全な場所でのみ使用してください。 [安全性に関する詳細情報](https://support.microsoft.com/help/4023454/safety-information)。

## <a name="mapping-your-space"></a>空間マッピング

これで、空間マッピングを開始する準備ができました。  HoloLens によって周囲のマッピングが開始されると、空間全体に広がるメッシュ グラフィックが表示されます。  Mixed Reality ホームでは、マップされた表面を選択することで、マップをトリガーして表示できます。

優れた空間マップを作成するためのガイドラインを次に示します。

### <a name="understand-the-scenarios-for-the-area"></a>エリアのシナリオを理解する

マップが適切かつ完全になるように、HoloLens を使用する場所で最も多くの時間を費やすことが重要です。 たとえば、HoloLens のユーザー シナリオにポイント A からポイント B への移動が含まれている場合は、移動しながらすべての方向を見て、その経路を 2、3 回歩きます。  

### <a name="walk-slowly-around-the-space"></a>空間をゆっくり歩く

エリアの周りをあまりにも速く歩くと、マッピング エリアが見落とされる可能性があります。 周囲をゆっくりと歩き、5 から 8 フィートごとに立ち止まって周囲を見回します。  

スムーズな動きは、HoloLens のマッピングをより効率的にするのにも役立ちます。

### <a name="look-in-all-directions"></a>全方位を見る

空間をマッピングするときに周りを見渡すと、ポイント間の相対的な位置に関するデータをより多く HoloLens に与えることができます。  

たとえば、見上げないと、部屋の天井がどこにあるかを HoloLens に認識させられないことがあります。  

空間をマッピングするときは、床を見下ろすことを忘れないでください。

### <a name="cover-key-areas-multiple-times"></a>重要なエリアを複数回カバーする

エリアを複数回移動すると、最初のウォークスルーで見逃した可能性がある特徴を選択するのに役立ちます。 理想的なマップを作成するには、エリアを 2、3 回通過します。

可能であれば、このような動きを繰り返しながら、エリア内を一方向に歩いた後、振り返って来た道を戻ってみましょう。

### <a name="take-your-time-mapping-the-area"></a>時間をかけてエリアをマッピングする

HoloLens によって完全にマッピングされ、周囲に適応するまでには、15 分から 20 分ほどかかります。 HoloLens を頻繁に使用する予定の空間がある場合、前もって時間をかけて空間をマッピングしておくことで、後々の問題を防ぐことができます。  

## <a name="possible-errors-in-the-spatial-map"></a>空間マップで起こりうるエラー

空間マッピング データのエラーは、いくつかのカテゴリに分類されます。

- *穴*: 実際には存在する表面が空間マッピング データに存在しません。
- *幻影*: 実際には存在しない表面が空間マッピング データに存在します。
- *ワームホール*: 空間マップの一部が実際とは異なる場所にあると認識され、'失われます'。
- *バイアス*: 空間マッピング データの表面が押し込まれたり引き出されたりして、実際の表面と整合しません。

このようなエラーが発生した場合は、[FeedbackHub](hololens-feedback.md) を使用してフィードバックを送信してください。

## <a name="security-and-storage-for-spatial-data"></a>空間データのセキュリティとストレージ

Microsoft HoloLens 以降用の Windows 10 バージョン 1803 更新プログラムを適用すると、マッピング データは (デバイス上の) ローカル データベースに格納されます。

HoloLens ユーザーは、デバイスが PC に接続されている場合やファイル エクスプローラー アプリを使用している場合でも、マップ データベースに直接アクセスできません。 HoloLens で BitLocker を有効にすると、格納されたマップ データもボリューム全体とともに暗号化されます。

### <a name="remove-map-data-and-known-spaces-from-hololens"></a>HoloLens からマップ データと既知の空間を削除する

**[設定] > [システム] > [ホログラム]** には、マップ データを削除するための 2 つのオプションがあります。

- 近くのホログラムを削除するには、 **[Remove nearby holograms]\(近くのホログラムの削除\)** を選択します。 このコマンドを使用すると、現在の空間のマップ データと固定ホログラムをクリアできます。 同じ空間でデバイスを使い続けると、削除された情報を置き換える新しいマップ セクションが作成および格納されます。

   > [!NOTE]
   > "近くの" ホログラムとは、現在の空間の同じマップ セクション内に固定されているホログラムです。

   たとえば、このオプションを使用して、自宅関連のマップ データに影響を与えることなく、仕事関連のマップ データをクリアできます。

- すべてのホログラムを削除するには、 **[Remove all holograms]\(すべてのホログラムを削除する\)** を選択します。 このコマンドを使用すると、デバイスに格納されているすべてのマップ データとすべての固定ホログラムをクリアできます。 どのホログラムも明示的に配置する必要があります。 以前に配置したホログラムを再検出することはできません。

> [!NOTE]
> 近くまたはすべてのホログラムを削除すると、HoloLens によってすぐに現在の空間のスキャンとマッピングを開始されます。

### <a name="wi-fi-data-in-spatial-maps"></a>空間マップ内の Wi-Fi データ

HoloLens によって Wi-Fi 特性が格納され、既知の空間の HoloLens データベース内に格納されているホログラムの場所とマップ セクションが関連付けられます。 Wi-Fi 特性に関する情報は、ユーザーからアクセスできず、クラウドまたはテレメトリを使用して Microsoft に送信されることはありません。

Wi-Fi が有効になっている限り、HoloLens によってマップ データは近くの Wi-Fi アクセス ポイントと関連付けられます。 ネットワークに接続されている場合と、近くにあることが検出されただけの場合とで、動作に違いはありません。 Wi-Fi が無効になっている場合でも、HoloLens によって空間は検索されます。 ただし、HoloLens にとっては空間データベース内のより多くのマップ データを検索する必要があり、ホログラムを見つけるためにより多くの時間が必要になる場合があります。 Wi-Fi 情報がない場合、HoloLens の処理として、アクティブ スキャンをデバイスに格納されているすべてのホログラム アンカーおよびマップ セクションと比較し、マップの正しい部分を特定する必要があります。

## <a name="related-topics"></a>関連トピック

- [空間マッピングの設計](/windows/mixed-reality/spatial-mapping)
