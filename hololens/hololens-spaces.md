---
title: HoloLens を使用して物理的スペースをマッピングする
description: HoloLens は、時間の経過とともに空間がどのように見えるかを学習します。 ユーザーは、HoloLens を空間内で特定の方法で移動することにより、このプロセスを容易にすることができます。
ms.assetid: bd55ecd1-697a-4b09-8274-48d1499fcb0b
author: dorreneb
ms.author: dobrown
ms.custom:
- CI 111456
- CSSTroubleshooting
ms.date: 09/16/2019
keywords: HoloLens、Windows Mixed Reality、デザイン、空間マッピング、HoloLens、表面再構築、メッシュ、ヘッド トラッキング、マッピング
ms.prod: hololens
ms.sitesec: library
ms.topic: article
ms.localizationpriority: high
appliesto:
- HoloLens 1 (1st gen)
- HoloLens 2
ms.openlocfilehash: 992b17160eb6ba6ca2f6c8b12e112b98ab154774
ms.sourcegitcommit: 7c057aeeaeebb4daffa2120491d4e897a31e8d0f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/26/2020
ms.locfileid: "10829029"
---
# HoloLens を使用して物理的スペースをマッピングする

HoloLens は、ホログラムを物理世界と融合させます。 そのためには、HoloLens は周りの物理世界について学び、ホログラムをその空間内のどこに配置するかを覚えておく必要があります。

時間の経過とともに、HoloLens は、それが見た環境の*空間マップ*を構築します。  HoloLens は、環境の変化に応じてマップを更新します。 ログインしてデバイスがオンになっている限り、HoloLens は空間マップを作成および更新します。 カメラを空間に向けた状態でデバイスを保持または装着すると、HoloLens はエリアをマップしようとします。 HoloLens は時間の経過とともに自然に空間を学習しますが、HoloLens が空間をより迅速かつ効率的にマッピングするのに役立つ方法があります。  

> [!NOTE]
> HoloLens が空間をマッピングできない場合、またはキャリブレーションの範囲外の場合、HoloLens は制限モードに入る場合があります。 制限モードでは、周囲にホログラムを配置することはできません。

この記事では、HoloLens が空間をマッピングする方法、空間マッピングを改善する方法、および HoloLens が収集する空間データを管理する方法について説明します。

## 空間の選択とセットアップ

環境内の機能により、HoloLens が空間を解釈するのが困難になる場合があります。 ライト レベル、空間内のマテリアル、オブジェクトのレイアウトなどはすべて、HoloLens がエリアをマップする方法に影響を与える可能性があります。

HoloLens は特定の種類の環境で最適に動作します。 最適な空間マップを作成するには、十分な光と十分な空間がある部屋を選択してください。 暗い空間や、暗い、輝く、または半透明の表面がたくさんある部屋 (鏡やガーゼのカーテンなど) は避けてください。

HoloLens は屋内での使用に最適化されています。 空間マッピングは、Wi-Fi がオンになっている場合にも最適に機能しますが、ネットワークに接続する必要はありません。 HoloLens は、接続または認証されていなくても、Wi-Fi アクセス　ポイントを取得できます。 HoloLens 機能は、アクセス ポイントがインターネットに接続されているか、イントラネット/ローカルのみであるかを変更しません。

HoloLens は、つまずく危険がない安全な場所でのみ使用してください。 [安全性に関する詳細](https://support.microsoft.com/help/4023454/safety-information)。

## 空間マッピング

これで、空間マッピングを開始する準備ができました。  HoloLens が周囲のマッピングを開始すると、空間全体に広がるメッシュ グラフィックが表示されます。  Mixed Reality ホームでは、マップされた表面を選択することで、マップをトリガーして表示できます。

優れた空間マップを作成するためのガイドラインを次に示します。

### エリアのシナリオを理解する

マップが適切で完全になるように、HoloLens を使用する場所で最も多くの時間を費やすことが重要です。 たとえば、HoloLens のユーザー シナリオにポイント A からポイント B への移動が含まれている場合は、移動しながらすべての方向を見て、そのパスを 2 ~ 3 回歩きます。  

### 空間をゆっくり歩く

エリアの周りをあまりにも速く歩くと、HoloLens がマッピング エリアを見落とす可能性があります。 周囲をゆっくりと歩き、5 ~ 8 フィートごとに立ち止まって周囲を見回します。  

スムーズな動きは、HoloLens マップをより効率的にするのにも役立ちます。

### 全方位を見る

空間をマッピングしながら見回すと、HoloLens にポイントが相対的位置に関するデータが多くなります。  

たとえば、見上げないと、HoloLens は部屋の天井がどこにあるのかわからない場合があります。  

空間をマッピングするときは、床を見下ろすことを忘れないでください。

### 重要なエリアを複数回カバーする

エリアを複数回移動すると、最初のウォークスルーで見逃した可能性がある機能を選択するのに役立ちます。 理想的なマップを作成するには、エリアを 2 ~ 3 回通過します。

可能であれば、これらの動きを繰り返しながら、一方向に歩いて、それから振り返って来た道を歩いてみましょう。

### 時間をかけてエリアをマッピングする

HoloLens が完全にマッピングして周囲に適応するまでには、15 ~ 20 分かかります。 HoloLens を頻繁に使用する予定の空間がある場合、前もって時間を取って空間をマップすると、後で問題が発生することを防ぐことができます。  

## 空間マップで起こりうるエラー

空間マッピング データのエラーは、いくつかのカテゴリに分類されます。

- *穴*: 空間マッピング データに実際の表面がありません。
- *幻覚*: 現実世界には存在しない表面が空間マッピング データに存在します。
- *ワームホール*: HoloLens は、実際のマップとは別の部分にあると考えて、空間マップの一部を「失います」。
- *バイアス*: 空間マッピング データの表面は、押し込まれたり引き出されたりして実際の表面と不完全に整列しています。

これらのエラーが表示された場合は、[FeedbackHub](hololens-feedback.md) を使用してフィードバックを送信してください。

## 空間データのセキュリティとストレージ

Microsoft HoloLens 以降用の Windows 10 バージョン 1803 更新プログラムでは、マッピング データをローカル (デバイス上の) データベースに保存します。

HoloLens ユーザーは、デバイスが PC に接続されている場合やファイル エクスプローラー アプリを使用している場合でも、マップ データベースに直接アクセスできません。 HoloLens で BitLocker を有効にすると、保存されたマップ データもボリューム全体とともに暗号化されます。

### HoloLens からマップ データと既知の空間を削除する

**[設定]、[システム]、[ホログラム]** でマップ データを削除するには、次の 2 つのオプションがあります。

- 近くのホログラムを削除するには、[**近くのホログラムを削除する**] を選択します。 このコマンドは、現在の空間のマップ データと固定ホログラムをクリアします。 同じ空間でデバイスを使い続けると、削除された情報を置き換える新しいマップ セクションが作成および保存されます。

   > [!NOTE]
   > 「近くの」ホログラムは、現在の空間の同じマップ セクション内に固定されているホログラムです。

   たとえば、このオプションを使用して、自宅関連のマップ データに影響を与えることなく、仕事関連のマップ データをクリアできます。

- すべてのホログラムを削除するには、[**すべてのホログラムを削除する**] を選択します。 このコマンドは、デバイスに格納されているすべてのマップ データとすべての固定ホログラムをクリアします。 ホログラムを明示的に配置する必要があります。 以前に配置したホログラムを再検出することはできません。

> [!NOTE]
> 近くまたはすべてのホログラムを削除すると、HoloLens はすぐに現在の空間のスキャンとマッピングを開始します。

### 空間マップの Wi-Fi データ

HoloLens は Wi-Fi 特性を格納して、既知の空間の HoloLens データベース内に格納されているホログラムの場所とマップ セクションを関連付けます。 Wi-Fi 特性に関する情報にはユーザーはアクセスできず、クラウドまたはテレメトリを使用して Microsoft に送信されません。

Wi-Fi が有効になっている限り、HoloLens はマップ データを近くの Wi-Fi アクセス ポイントと関連付けます。 ネットワークが接続されていても、近くで検出されても、動作に違いはありません。 Wi-Fi が無効になっている場合でも、HoloLens は空間を検索します。 ただし、HoloLens は空間データベース内のより多くのマップ データを検索する必要があり、ホログラムを見つけるためにより多くの時間が必要になる場合があります。 Wi-Fi 情報がない場合、HoloLens は、有効なスキャンを、デバイスに保存されているすべてのホログラム アンカーおよびマップ セクションと比較して、マップの正しい分割を見つける必要があります。

## 関連トピック

- [空間マッピング設計](https://docs.microsoft.com/windows/mixed-reality/spatial-mapping-design)
